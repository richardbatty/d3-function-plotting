<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Document</title>
  <link rel="stylesheet" href="index.css">
</head>
<body>
  <div id="graph"></div>
  <script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>
  <script src="../lib/plotter.js" charset="utf-8"></script>
  <script src="../lib/components.js" charset="utf-8"></script>
  <script src="../lib/data.js" charset="utf-8"></script>
  <script src="../lib/attacher.js" charset="utf-8"></script>

  <script>

    function inverse(x) {
      return Math.pow(x, -1);
    }

    function powerFunction(p, q) {
      return function(x) {
        return (x / Math.abs(x)) * Math.pow(Math.abs(x), (p / q));
      }
    }

    var dimensions = {
      margins: {
        top: 20,
        right: 20,
        bottom: 20,
        left: 80
      }
    };
    dimensions.width = 300 - dimensions.margins.left - dimensions.margins.right;
    dimensions.height = 300 - dimensions.margins.top - dimensions.margins.bottom;

    var chart = Plotter.xy()
        .type('cartesian')
        .xSpan([-5, 5])
        .dimensions(dimensions)
        .fun(powerFunction(2, 1))
        .axisNumbers(false);

    d3.select("#graph")
      .call(chart.fun(powerFunction(1, 5)));

    d3.select("#graph")
      .call(chart.fun(powerFunction(1, 3)));

    d3.select("#graph")
      .call(chart.fun(powerFunction(1, 1)));

    d3.select("#graph")
      .call(chart.fun(powerFunction(3, 1)));

    d3.select("#graph")
      .call(chart.fun(powerFunction(5, 1)));



    // function count(initial) {
    //   c = initial;
    //   return function() {
    //     c = c + 1;
    //     return c;
    //   }
    // }
    // var counter = count(0);
    // var count = 0;
    // var intervalId = setInterval(function() {
    //   chart.update(powerFunction(count, 1)); 
    //   count = count + 1;
    //   console.log(count);
    //   if (count > 10) {
    //     clearInterval(intervalId);
    //   }
    // }, 1000);

  </script>
</body>
</html>