<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Document</title>
  <link rel="stylesheet" href="index.css">
</head>
<body>
  <div id="graph"></div>
  <script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>
  <script src="../lib/plotter.js" charset="utf-8"></script>
  <script src="../lib/components.js" charset="utf-8"></script>
  <script src="../lib/data.js" charset="utf-8"></script>
  <script src="../lib/attacher.js" charset="utf-8"></script>
  <script src="../lib/animator.js" charset="utf-8"></script>
<script type="text/javascript" charset="utf-8">
  
</script>
  <script>

    function powerFunction(p, q) {
      function power(x) {
        return (x / Math.abs(x)) * Math.pow(Math.abs(x), (p / q));
      }

      return power;
    }

    function linear(x) {
      return x;
    }

    var dimensions = {
      margins: {
        top: 20,
        right: 20,
        bottom: 20,
        left: 80
      }
    };
    dimensions.width = 300 - dimensions.margins.left - dimensions.margins.right;
    dimensions.height = 300 - dimensions.margins.top - dimensions.margins.bottom;

    var chart = Plotter.xy()
        .type('cartesian')
        .xSpan([-5, 5])
        .dimensions(dimensions)
        .funcs([powerFunction(2, 1), linear])
        .axisNumbers(false);

    d3.select("#graph")
      .call(chart);


     Plotter.animator.increment(1, 7, 1, 1000, function(number) {
       chart.update(powerFunction(number, 1));
     });

  </script>
</body>
</html>
